import{b as o,d as f,m as c,F as g,y,o as l,t as b}from"./vue.esm-bundler-SquHxTEj.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const h={name:"VirtualScrollList",props:{items:{type:Array,required:!0},itemHeight:{type:Number,required:!0},buffer:{type:Number,default:5}},data(){return{containerHeight:0,scrollTop:0}},computed:{totalHeight(){return this.items.length*this.itemHeight},visibleItems(){const e=Math.max(0,Math.floor(this.scrollTop/this.itemHeight)-this.buffer),t=Math.min(this.items.length,Math.ceil((this.scrollTop+this.containerHeight)/this.itemHeight)+this.buffer);return this.items.slice(e,t).map((a,n)=>({...a,style:{position:"absolute",top:(e+n)*this.itemHeight+"px",height:this.itemHeight+"px"}}))}},mounted(){this.containerHeight=this.$refs.container.clientHeight},methods:{onScroll(){this.scrollTop=this.$refs.container.scrollTop}}};function H(e,t,a,n,v,i){return l(),o("div",{class:"virtual-scroll-list",ref:"container",onScroll:t[0]||(t[0]=(...r)=>i.onScroll&&i.onScroll(...r))},[f("div",{class:"spacer",style:c({height:i.totalHeight+"px"})},null,4),(l(!0),o(g,null,y(i.visibleItems,r=>(l(),o("div",{class:"item",key:r.id,style:c(r.style)},b(r.content),5))),128))],544)}const d=S(h,[["render",H],["__scopeId","data-v-3009113c"]]);h.__docgenInfo={displayName:"VirtualScrollList",exportName:"default",description:"",tags:{},props:[{name:"items",type:{name:"array"},required:!0},{name:"itemHeight",type:{name:"number"},required:!0},{name:"buffer",type:{name:"number"},defaultValue:{func:!1,value:"5"}}],sourceFiles:["/Users/future/Desktop/projects/storybook-vue3/src/components/VirtualScrollList.vue"]};const x={title:"Components/VirtualScrollList",component:d,argTypes:{items:{control:"array"},itemHeight:{control:"number"},buffer:{control:"number"}}},_=e=>({components:{VirtualScrollList:d},setup(){return{args:e}},template:'<VirtualScrollList v-bind="args" />'}),s=_.bind({});s.args={items:Array.from({length:1e3},(e,t)=>({id:t,content:`Item ${t}`})),itemHeight:50,buffer:5};var u,m,p;s.parameters={...s.parameters,docs:{...(u=s.parameters)==null?void 0:u.docs,source:{originalSource:`args => ({
  components: {
    VirtualScrollList
  },
  setup() {
    return {
      args
    };
  },
  template: '<VirtualScrollList v-bind="args" />'
})`,...(p=(m=s.parameters)==null?void 0:m.docs)==null?void 0:p.source}}};const T=["Default"];export{s as Default,T as __namedExportsOrder,x as default};
