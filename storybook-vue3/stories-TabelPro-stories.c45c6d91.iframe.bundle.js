"use strict";(self.webpackChunkstorybook_vue3=self.webpackChunkstorybook_vue3||[]).push([[368],{"./src/stories/TabelPro.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>TabelPro_stories});var vue_esm_bundler=__webpack_require__("./node_modules/.pnpm/vue@3.5.13_typescript@5.7.2/node_modules/vue/dist/vue.esm-bundler.js"),table=__webpack_require__("./node_modules/.pnpm/element-plus@2.9.3_vue@3.5.13_typescript@5.7.2_/node_modules/element-plus/es/components/table/index.mjs"),components_button=__webpack_require__("./node_modules/.pnpm/element-plus@2.9.3_vue@3.5.13_typescript@5.7.2_/node_modules/element-plus/es/components/button/index.mjs"),components_image=__webpack_require__("./node_modules/.pnpm/element-plus@2.9.3_vue@3.5.13_typescript@5.7.2_/node_modules/element-plus/es/components/image/index.mjs"),components_switch=__webpack_require__("./node_modules/.pnpm/element-plus@2.9.3_vue@3.5.13_typescript@5.7.2_/node_modules/element-plus/es/components/switch/index.mjs");const _hoisted_1={key:1,class:"edit-wrapper"},TabelProvue_type_script_setup_true_lang_ts=(0,vue_esm_bundler.pM)({__name:"TabelPro",props:{listData:{},config:{}},emits:["selection-change"],setup(__props,{emit:__emit}){const props=__props,emit=__emit,handleSelectionChange=selection=>{emit("selection-change",selection)},handleColspan=scope=>{const currentColumn=props.config.find((col=>col.key===scope.column.property));return currentColumn?.colspan?.(scope.row,currentColumn)??1},formatCellValue=(value,column)=>null==value||""===value?column.defaultValue||"":column.dictionary&&value in column.dictionary?column.dictionary[value]:column.formatter?column.formatter(value):value;return(_ctx,_cache)=>{const _component_el_input=(0,vue_esm_bundler.g2)("el-input");return(0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(table.Up),{data:_ctx.listData,style:{width:"100%"},onSelectionChange:handleSelectionChange},{default:(0,vue_esm_bundler.k6)((()=>[((0,vue_esm_bundler.uX)(!0),(0,vue_esm_bundler.CE)(vue_esm_bundler.FK,null,(0,vue_esm_bundler.pI)(_ctx.config,(column=>((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.CE)(vue_esm_bundler.FK,{key:column.key||column.type},["selection"===column.type?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(table.o8),{key:0,type:"selection",width:column.width,fixed:column.fixed},null,8,["width","fixed"])):"index"===column.type?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(table.o8),{key:1,type:"index",label:column.label,width:column.width,fixed:column.fixed},null,8,["label","width","fixed"])):"actions"===column.type?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(table.o8),{key:2,label:column.label,width:column.width,fixed:column.fixed},{default:(0,vue_esm_bundler.k6)((({row})=>[((0,vue_esm_bundler.uX)(!0),(0,vue_esm_bundler.CE)(vue_esm_bundler.FK,null,(0,vue_esm_bundler.pI)(column.buttons,((btn,index)=>((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(components_button.S2),{key:index,type:btn.type,disabled:btn.disabled?.(row),onClick:$event=>btn.click(row)},{default:(0,vue_esm_bundler.k6)((()=>[(0,vue_esm_bundler.eW)((0,vue_esm_bundler.v_)(btn.text),1)])),_:2},1032,["type","disabled","onClick"])))),128))])),_:2},1032,["label","width","fixed"])):"image"===column.type?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(table.o8),{key:3,prop:column.key,label:column.label,width:column.width,fixed:column.fixed},{default:(0,vue_esm_bundler.k6)((({row})=>[column.key&&row[column.key]?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(components_image.Zq),{key:0,src:row[column.key],"preview-src-list":column.preview?[row[column.key]]:[],style:(0,vue_esm_bundler.Tr)({width:column.size?.width+"px",height:column.size?.height+"px"})},null,8,["src","preview-src-list","style"])):(0,vue_esm_bundler.Q3)("",!0)])),_:2},1032,["prop","label","width","fixed"])):column.slot?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(table.o8),{key:4,label:column.label,width:column.width,fixed:column.fixed},{default:(0,vue_esm_bundler.k6)((({row})=>[(0,vue_esm_bundler.RG)(_ctx.$slots,column.slot,{row})])),_:2},1032,["label","width","fixed"])):column.children?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(table.o8),{key:5,label:column.label,width:column.width,align:column.align,fixed:column.fixed},{default:(0,vue_esm_bundler.k6)((()=>[((0,vue_esm_bundler.uX)(!0),(0,vue_esm_bundler.CE)(vue_esm_bundler.FK,null,(0,vue_esm_bundler.pI)(column.children,(child=>((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(table.o8),{key:child.key,prop:child.key,label:child.label,width:child.width},null,8,["prop","label","width"])))),128))])),_:2},1032,["label","width","align","fixed"])):(0,vue_esm_bundler.bo)(((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(table.o8),{key:6,prop:column.key,label:column.label,width:column.width,align:column.align,sortable:column.sortable,filters:column.filters,"filter-method":column.filterMethod,colspan:handleColspan,fixed:column.fixed},(0,vue_esm_bundler.eX)({_:2},[column.key?{name:"default",fn:(0,vue_esm_bundler.k6)((({row})=>[column.switch?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(components_switch.qi),{key:0,modelValue:row[column.key],"onUpdate:modelValue":$event=>row[column.key]=$event,onChange:val=>column.switch?.change(val,row)},null,8,["modelValue","onUpdate:modelValue","onChange"])):column.edit?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.CE)("div",_hoisted_1,[(0,vue_esm_bundler.bF)(_component_el_input,{type:"text",modelValue:row[column.key],"onUpdate:modelValue":$event=>row[column.key]=$event,readonly:!row[`${column.key}Old`],onFocus:$event=>column.key&&!row[`${column.key}Old`]&&(row[`${column.key}Old`]=row[column.key]),onBlur:$event=>column.key&&row[`${column.key}Old`].toString()===row[column.key]&&(row[`${column.key}Old`]=void 0)},null,8,["modelValue","onUpdate:modelValue","readonly","onFocus","onBlur"]),void 0!==row[`${column.key}Old`]&&row[`${column.key}Old`]!==row[column.key]?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.CE)(vue_esm_bundler.FK,{key:0},[(0,vue_esm_bundler.bF)((0,vue_esm_bundler.R1)(components_button.S2),{type:"primary",size:"small",onClick:$event=>column.edit?.change(row[column.key],row)},{default:(0,vue_esm_bundler.k6)((()=>_cache[0]||(_cache[0]=[(0,vue_esm_bundler.eW)("确认")]))),_:2},1032,["onClick"]),(0,vue_esm_bundler.bF)((0,vue_esm_bundler.R1)(components_button.S2),{type:"danger",size:"small",onClick:$event=>row[column.key]=row[`${column.key}Old`]},{default:(0,vue_esm_bundler.k6)((()=>_cache[1]||(_cache[1]=[(0,vue_esm_bundler.eW)("取消")]))),_:2},1032,["onClick"])],64)):(0,vue_esm_bundler.Q3)("",!0)])):((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.CE)("span",{key:2,style:(0,vue_esm_bundler.Tr)(column.cellStyle?.(row,column))},(0,vue_esm_bundler.v_)(column.key?formatCellValue(row[column.key],column):""),5))])),key:"0"}:void 0]),1032,["prop","label","width","align","sortable","filters","filter-method","fixed"])),[[vue_esm_bundler.aG,!column.hidden]])],64)))),128))])),_:3},8,["data"])}}});var injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.97.1_esbuild@0.24.0_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.97.1_esbuild@0.24.0_/node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.97.1_esbuild@0.24.0_/node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.97.1_esbuild@0.24.0_/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.97.1_esbuild@0.24.0_/node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.97.1_esbuild@0.24.0_/node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),TabelProvue_type_style_index_0_id_7d6d00c3_scoped_true_lang_css=__webpack_require__("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.97.1_esbuild@0.24.0_/node_modules/css-loader/dist/cjs.js??clonedRuleSet-8.use[1]!./node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1_esbuild@0.24.0_/node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/.pnpm/postcss-loader@8.1.1_postcss@8.4.49_typescript@5.7.2_webpack@5.97.1_esbuild@0.24.0_/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[0]!./node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1_esbuild@0.24.0_/node_modules/vue-loader/dist/index.js??ruleSet[0]!./src/components/TabelPro.vue?vue&type=style&index=0&id=7d6d00c3&scoped=true&lang=css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(TabelProvue_type_style_index_0_id_7d6d00c3_scoped_true_lang_css.A,options);TabelProvue_type_style_index_0_id_7d6d00c3_scoped_true_lang_css.A&&TabelProvue_type_style_index_0_id_7d6d00c3_scoped_true_lang_css.A.locals&&TabelProvue_type_style_index_0_id_7d6d00c3_scoped_true_lang_css.A.locals;const __exports__=(0,__webpack_require__("./node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1_esbuild@0.24.0_/node_modules/vue-loader/dist/exportHelper.js").A)(TabelProvue_type_script_setup_true_lang_ts,[["__scopeId","data-v-7d6d00c3"]]),TabelPro=__exports__;__exports__.__docgenInfo={exportName:"default",displayName:"TabelPro",description:"",tags:{},props:[{name:"listData",required:!0,type:{name:"Array",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}]}]}},{name:"config",required:!0,type:{name:"Array",elements:[{name:"TableColumn"}]}}],events:[{name:"selection-change"}],slots:[{name:"column.slot",scoped:!0,bindings:[{name:"name",title:"binding"},{name:"row",title:"binding"}]}],sourceFiles:["/Users/future/Desktop/projects/storybook-vue3/src/components/TabelPro.vue"]};const TabelPro_stories={title:"Components/TabelPro",component:TabelPro,tags:["autodocs"]},Basic=(args=>({components:{TabelPro},setup:()=>({args}),template:'<TabelPro v-bind="args">\n  <template #actionsSlot="{ row }">\n    <el-button type="primary" @click="console.log(\'edit\',row)">编辑</el-button>\n    <el-button type="danger" @click="console.log(\'delete\',row)">删除</el-button>\n  </template>\n  </TabelPro>'})).bind({});Basic.args={listData:[{id:1,name:"张三",sex:1,age:25,score:95,createdAt:"2024-03-20T10:00:00",status:!0,editable:!0,province:"广东",city:"深圳",mergeable:!0,region:"南方",images:"https://placeholder.co/80x80"},{id:2,name:"李四",sex:0,age:30,score:85,createdAt:"2024-03-19T15:30:00",status:!1,editable:!1,province:"北京",city:"北京",mergeable:!1,region:"北方",images:"https://placeholder.co/80x80"}],config:[{type:"selection",width:50},{type:"index",label:"#",width:50,fixed:!0},{key:"name",label:"姓名",width:100,align:"right",fixed:!0},{key:"sex",label:"性别",dictionary:{0:"女",1:"男"},filters:[{text:"男",value:1},{text:"女",value:0}],filterMethod:(value,row)=>row.sex===value},{key:"createdAt",label:"创建时间",formatter:value=>new Date(value).toLocaleDateString()},{key:"age",label:"年龄",sortable:!0,cellStyle:row=>row.age<27?{color:"green"}:{color:"red"}},{key:"region",label:"区域",colspan:row=>row.mergeable?2:1},{key:"score",label:"分数",defaultValue:"暂无",edit:{change:(val,row)=>{console.log("分数改变:",val,row),setTimeout((()=>row.score=row.scoreOld),500)}},width:200},{key:"address",label:"地址",children:[{key:"province",label:"省"},{key:"city",label:"市"}]},{key:"status",label:"状态",switch:{change:(val,row)=>console.log("状态改变:",val,row)}},{key:"images",label:"图片",type:"image",preview:!0,size:{width:"auto",height:80}},{type:"actions",label:"操作",width:200,buttons:[{text:"编辑",type:"primary",click:row=>console.log("编辑:",row),disabled:row=>!row.editable},{text:"删除",type:"danger",click:row=>console.log("删除:",row)}]},{label:"操作(slot)",slot:"actionsSlot",width:200}]};const __namedExportsOrder=["Basic"];Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:'args => ({\n  components: {\n    TabelPro\n  },\n  setup() {\n    return {\n      args\n    };\n  },\n  template: `<TabelPro v-bind="args">\n  <template #actionsSlot="{ row }">\n    <el-button type="primary" @click="console.log(\'edit\',row)">编辑</el-button>\n    <el-button type="danger" @click="console.log(\'delete\',row)">删除</el-button>\n  </template>\n  </TabelPro>`\n})',...Basic.parameters?.docs?.source}}}},"./node_modules/.pnpm/css-loader@6.11.0_webpack@5.97.1_esbuild@0.24.0_/node_modules/css-loader/dist/cjs.js??clonedRuleSet-8.use[1]!./node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1_esbuild@0.24.0_/node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/.pnpm/postcss-loader@8.1.1_postcss@8.4.49_typescript@5.7.2_webpack@5.97.1_esbuild@0.24.0_/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[0]!./node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1_esbuild@0.24.0_/node_modules/vue-loader/dist/index.js??ruleSet[0]!./src/components/TabelPro.vue?vue&type=style&index=0&id=7d6d00c3&scoped=true&lang=css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_pnpm_css_loader_6_11_0_webpack_5_97_1_esbuild_0_24_0_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.97.1_esbuild@0.24.0_/node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_pnpm_css_loader_6_11_0_webpack_5_97_1_esbuild_0_24_0_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_css_loader_6_11_0_webpack_5_97_1_esbuild_0_24_0_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_6_11_0_webpack_5_97_1_esbuild_0_24_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.97.1_esbuild@0.24.0_/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_pnpm_css_loader_6_11_0_webpack_5_97_1_esbuild_0_24_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_pnpm_css_loader_6_11_0_webpack_5_97_1_esbuild_0_24_0_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"\n.el-table[data-v-7d6d00c3] {\n  width: 100%;\n}\n.edit-wrapper[data-v-7d6d00c3] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.edit-wrapper .el-button + .el-button[data-v-7d6d00c3] {\n  margin-left: 0;\n}\n","",{version:3,sources:["webpack://./src/components/TabelPro.vue"],names:[],mappings:";AAwQA;EACE,WAAW;AACb;AACA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;AACV;AACA;EACE,cAAc;AAChB",sourcesContent:['<template>\n  <el-table\n    :data="listData"\n    style="width: 100%"\n    @selection-change="handleSelectionChange"\n  >\n    <template v-for="column in config" :key="column.key || column.type">\n      \x3c!-- Selection Column --\x3e\n      <el-table-column\n        v-if="column.type === \'selection\'"\n        type="selection"\n        :width="column.width"\n        :fixed="column.fixed"\n      />\n\n      \x3c!-- Index Column --\x3e\n      <el-table-column\n        v-else-if="column.type === \'index\'"\n        type="index"\n        :label="column.label"\n        :width="column.width"\n        :fixed="column.fixed"\n      />\n\n      \x3c!-- Actions Column --\x3e\n      <el-table-column\n        v-else-if="column.type === \'actions\'"\n        :label="column.label"\n        :width="column.width"\n        :fixed="column.fixed"\n      >\n        <template #default="{ row }">\n          <template v-for="(btn, index) in column.buttons" :key="index">\n            <el-button\n              :type="btn.type"\n              :disabled="btn.disabled?.(row)"\n              @click="btn.click(row)"\n            >\n              {{ btn.text }}\n            </el-button>\n          </template>\n        </template>\n      </el-table-column>\n\n      \x3c!-- Image Column --\x3e\n      <el-table-column\n        v-else-if="column.type === \'image\'"\n        :prop="column.key"\n        :label="column.label"\n        :width="column.width"\n        :fixed="column.fixed"\n      >\n        <template #default="{ row }">\n          <el-image\n            v-if="column.key && row[column.key]"\n            :src="row[column.key]"\n            :preview-src-list="column.preview ? [row[column.key]] : []"\n            :style="{\n              width: column.size?.width + \'px\',\n              height: column.size?.height + \'px\',\n            }"\n          />\n        </template>\n      </el-table-column>\n\n      \x3c!-- Custom Slot Column --\x3e\n      <el-table-column\n        v-else-if="column.slot"\n        :label="column.label"\n        :width="column.width"\n        :fixed="column.fixed"\n      >\n        <template #default="{ row }">\n          <slot :name="column.slot" :row="row" />\n        </template>\n      </el-table-column>\n\n      \x3c!-- Nested Columns --\x3e\n      <template v-else-if="column.children">\n        <el-table-column\n          :label="column.label"\n          :width="column.width"\n          :align="column.align"\n          :fixed="column.fixed"\n        >\n          <template v-for="child in column.children" :key="child.key">\n            <el-table-column\n              :prop="child.key"\n              :label="child.label"\n              :width="child.width"\n            />\n          </template>\n        </el-table-column>\n      </template>\n\n      \x3c!-- Normal Column --\x3e\n      <el-table-column\n        v-else\n        :prop="column.key"\n        :label="column.label"\n        :width="column.width"\n        :align="column.align"\n        :sortable="column.sortable"\n        :filters="column.filters"\n        :filter-method="column.filterMethod"\n        :colspan="handleColspan"\n        :fixed="column.fixed"\n        v-show="!column.hidden"\n      >\n        <template #default="{ row }" v-if="column.key">\n          <template v-if="column.switch">\n            <el-switch\n              v-model="row[column.key]"\n              @change="(val) => column.switch?.change(val, row)"\n            />\n          </template>\n          <div class="edit-wrapper" v-else-if="column.edit">\n            <el-input\n              type="text"\n              v-model="row[column.key]"\n              :readonly="!row[`${column.key}Old`]"\n              @focus="\n                column.key &&\n                  !row[`${column.key}Old`] &&\n                  (row[`${column.key}Old`] = row[column.key])\n              "\n              @blur="\n                column.key &&\n                  row[`${column.key}Old`].toString() === row[column.key] &&\n                  (row[`${column.key}Old`] = undefined)\n              "\n            />\n            <template\n              v-if="\n                row[`${column.key}Old`] !== undefined &&\n                row[`${column.key}Old`] !== row[column.key]\n              "\n            >\n              <el-button\n                type="primary"\n                size="small"\n                @click="column.edit?.change(row[column.key], row)"\n                >确认</el-button\n              >\n              <el-button\n                type="danger"\n                size="small"\n                @click="row[column.key] = row[`${column.key}Old`]"\n                >取消</el-button\n              >\n            </template>\n          </div>\n          <template v-else>\n            <span :style="column.cellStyle?.(row, column)">\n              {{ column.key ? formatCellValue(row[column.key], column) : "" }}\n            </span>\n          </template>\n        </template>\n      </el-table-column>\n    </template>\n  </el-table>\n</template>\n\n<script setup lang="ts">\nimport type { TableColumnCtx } from "element-plus";\nimport {\n  ElTable,\n  ElTableColumn,\n  ElButton,\n  ElSwitch,\n  ElImage,\n} from "element-plus";\n\ntype ButtonType =\n  | "primary"\n  | "success"\n  | "warning"\n  | "danger"\n  | "info"\n  | "text"\n  | "default";\n\ninterface TableColumn {\n  type?: "selection" | "index" | "actions" | "image";\n  key?: string;\n  label?: string;\n  width?: number;\n  align?: "left" | "center" | "right";\n  hidden?: boolean;\n  sortable?: boolean;\n  filters?: { text: string; value: any }[];\n  filterMethod?: (value: any, row: Record<string, any>) => boolean;\n  colspan?: (row: Record<string, any>, column: TableColumn) => number;\n  dictionary?: Record<string | number, string>;\n  formatter?: (value: any) => string;\n  cellStyle?: (\n    row: Record<string, any>,\n    column: TableColumn\n  ) => Record<string, string>;\n  defaultValue?: string;\n  children?: TableColumn[];\n  switch?: {\n    change: (value: any, row: Record<string, any>) => void;\n  };\n  edit?: {\n    change: (value: any, row: Record<string, any>) => void;\n  };\n  buttons?: {\n    text: string;\n    type: ButtonType;\n    click: (row: Record<string, any>) => void;\n    disabled?: (row: Record<string, any>) => boolean;\n  }[];\n  slot?: string;\n  size?: { width: number; height: number };\n  preview?: boolean;\n  fixed?: boolean;\n}\n\ninterface Props {\n  listData: Record<string, any>[];\n  config: TableColumn[];\n}\n\nconst props = defineProps<Props>();\nconst emit = defineEmits(["selection-change"]);\n\nconst handleSelectionChange = (selection: Record<string, any>[]) => {\n  emit("selection-change", selection);\n};\n\nconst handleColspan = (scope: {\n  row: Record<string, any>;\n  column: TableColumnCtx<any>;\n}) => {\n  const currentColumn = props.config.find(\n    (col) => col.key === scope.column.property\n  );\n  return currentColumn?.colspan?.(scope.row, currentColumn) ?? 1;\n};\n\nconst formatCellValue = (value: any, column: TableColumn) => {\n  if (value === undefined || value === null || value === "") {\n    return column.defaultValue || "";\n  }\n\n  if (column.dictionary && value in column.dictionary) {\n    return column.dictionary[value];\n  }\n\n  if (column.formatter) {\n    return column.formatter(value);\n  }\n\n  return value;\n};\n<\/script>\n\n<style scoped>\n.el-table {\n  width: 100%;\n}\n.edit-wrapper {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.edit-wrapper .el-button + .el-button {\n  margin-left: 0;\n}\n</style>\n'],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1_esbuild@0.24.0_/node_modules/vue-loader/dist/exportHelper.js":(__unused_webpack_module,exports)=>{exports.A=(sfc,props)=>{const target=sfc.__vccOpts||sfc;for(const[key,val]of props)target[key]=val;return target}}}]);